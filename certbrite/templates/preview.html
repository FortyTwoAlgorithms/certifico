{% extends "index.html" %}

{% block page %}
  <iframe id="pdf_preview" type="application/pdf" src="" style="width: 800px; height: 650px; display: block; margin: 40px auto; border: 0;"></iframe>
{% endblock %}

{% block extra_js %}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>
  <script>
    $(document).ready(function() {
      var doc = new jsPDF({
        orientation: 'landscape'
      });

      var splitedText = doc.splitTextToSize('{{ text }}', 200);
      doc.text(splitedText, 50, 100);
      $("#pdf_preview").attr("src", doc.output('datauristring'));
    });
  </script>
{% endblock %}
